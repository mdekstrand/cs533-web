
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignment 3 &#8212; CS 533 Fall 2021</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fonts.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabinsert.js"></script>
    <script src="../../_static/urlclean.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "mdekstrand/cs533-web");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "üí¨ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/logo.png"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="copyright" title="Copyright" href="../../copyright/" />
    <link rel="next" title="Assignment 4" href="../A4/" />
    <link rel="prev" title="Assignment 2" href="../A2/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../">
      
      
      
      <h1 class="site-logo" id="site-title">CS 533 Fall 2021</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search/" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../">
   CS 533 Homepage
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Info
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../schedule/">
   Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../glossary/">
   Glossary
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Content
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../week0/">
   Week 0 ‚Äî Pre-Class Welcome
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../week1/">
   Week 1 ‚Äî Questions (8/23‚Äì27)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week1/DemoNotebook/">
     Demo Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week1/1-7-types-operations/">
     Data Types and Operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../week2/">
   Week 2 ‚Äî Description (8/30‚Äì9/3)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-2-PandasBasics/">
     Introducing Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-4-AggregatesAndGroups/">
     Aggregates and Groups
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-6-DescribingDistributions/">
     Describing Distributions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../week3/">
   Week 3 ‚Äî Presentation (9/6‚Äì10)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week3/3-6-ChartsFromTheGroundUp/">
     Drawing Charts
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week4/">
   Week 4 ‚Äî Inference (9/13‚Äì17)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week5/">
   Week 5 ‚Äî Filling In (9/20‚Äì24)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week6/">
   Week 6 ‚Äî Two Variables (Sep. 27‚ÄìOct. 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week7/">
   Week 7 ‚Äî Getting Data (Oct. 4‚Äì8)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week8/">
   Week 8 ‚Äî Regression (Oct. 11‚Äì15)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week9/">
   Week 9 ‚Äî Models &amp; Prediction (Oct. 18‚Äì22)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week10/">
   Week 10 ‚Äî Classification (10/25‚Äì29)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week11/">
   Week 11 ‚Äî More Modeling (11/1‚Äì5)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week12/">
   Week 12 ‚Äî Text (11/8‚Äì12)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week13/">
   Week 13 ‚Äî Unsupervised (11/15‚Äì19)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week14/">
   Week 14 ‚Äî Workflow (11/29‚Äì12/3)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week15/">
   Week 15 ‚Äî What Next? (12/6‚Äì10)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../">
   Rubric
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../A0/">
   Assignment 0
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../A0/A0-Notebook/">
     CS 533 Assignment 0
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A1/">
   Assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A2/">
   Assignment 2
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Assignment 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A4/">
   Assignment 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A5/">
   Assignment 5
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A6/">
   Assignment 6
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../A7/">
   Assignment 7
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/software/">
   Software and Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/documentation/">
   Documentation &amp; Reading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/data/">
   Data Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/notebook-checklist/">
   Notebook Checklist &amp; Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/probability/">
   Notes on Probability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/problems/">
   Common Problems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/onyx/">
   Remotely Using Onyx
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/git-resources/">
   Git Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/environments/">
   Software Environments
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../resources/tutorials/">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/AdvancedPipeline/">
     Advanced Pipeline Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/BooleanSeries/">
     Tricks with Boolean Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/BuildingData/">
     Building Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/ChartFinishingTouches/">
     Finishing Touches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Charting/">
     Drawing Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/ClusteringExample/">
     Clustering Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Correlation/">
     Correlation and Basic Linear Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/CriticScores/">
     Charting Movie Scores
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Distributions/">
     Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/EmpiricalProbabilities/">
     Empirical Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/FetchCHIPapers/">
     Bibliography Fetch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/FunWithNumbers/">
     Fun with Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Functions/">
     Writing Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Indexing/">
     Indexing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/LogitRegressionDemo/">
     Logistic Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MLTimeSeries/">
     MovieLens Time Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MinimizeRegression/">
     Rebuilding Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MissingData/">
     Missing Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MovieDecomp/">
     Movie Matrix Decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/OneSample/">
     One Sample
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/OverfittingSimulation/">
     Overfitting Simulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/PCADemo/">
     PCA Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/PenguinSamples/">
     Sampling and Testing the Penguins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Regressions/">
     Regressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Reshaping/">
     Reshaping Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SamplingDists/">
     Sampling Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitLogistic/">
     SciKit Logistic Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitPipeline/">
     SciKit Pipeline and Transform Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitRegression/">
     SciKit-Learn Linear Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitTransform/">
     SciKit Transformations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Selection/">
     Selecting Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Sessions/">
     Sessionization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SpamFilter/">
     Spam Detector Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/TuningExample/">
     Tuning Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/UsingTheCensus/">
     Using Census Data
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Site Details
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../copyright/">
   Copyright and License
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/assignments/A3/index.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/mdekstrand/cs533-web"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/mdekstrand/cs533-web/issues/new?title=Issue%20on%20page%20%2Fassignments/A3/index.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/mdekstrand/cs533-web/edit/main/assignments/A3/index.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#revision-log">
   Revision Log
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concept">
   Concept
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data">
   Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#income-us-census">
     Income ‚Äî US Census
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#setting-up">
       Setting Up
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-layout">
       Data Layout
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#infectious-deseases-ghdx">
     Infectious Deseases ‚Äî GHDx
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#infant-mortality-cdc">
     Infant Mortality ‚Äî CDC
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fips-codes">
     FIPS Codes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requirements">
   Requirements
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#time-estimates">
   Time Estimates
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="assignment-3">
<h1>Assignment 3<a class="headerlink" href="#assignment-3" title="Permalink to this headline">¬∂</a></h1>
<p>The purpose of Assignment 3 is to give you experience integrating data from multiple sources to explore a two-variable question.</p>
<p>It is due <strong>October 10, 2020</strong> at the end of the day (11:59 PM). Submit your <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> and PDF files to Canvas.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This assignment is not structured step-by-step like the first two.  I describe the data, and the questions you need to answer,
and you need to build a well-structured notebook that answers them.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Read</p>
<p>Read the entire assignment before you begin!</p>
</div>
<div class="section" id="revision-log">
<h2>Revision Log<a class="headerlink" href="#revision-log" title="Permalink to this headline">¬∂</a></h2>
<dl class="simple myst">
<dt>Sep. 30, 2021</dt><dd><p>Fixed lingering reference to 3 mortality rates.</p>
</dd>
</dl>
</div>
<div class="section" id="concept">
<h2>Concept<a class="headerlink" href="#concept" title="Permalink to this headline">¬∂</a></h2>
<p><strong>Central Question:</strong> Are health outcomes correlated with poverty levels in a community?</p>
<p>That is the key objective of this assignment.  To answer this, we are going to obtain poverty data from the U.S. Census Bureau and health data from the Global Health Data Exchange and the US Centers for Disease Control, and look at the relationship between a state‚Äôs poverty rate and various health outcomes.</p>
<p>We are going to operationalize these as follows:</p>
<ul class="simple">
<li><p>Poverty rate: fraction of family households underneath the poverty line in 2014</p></li>
<li><p>Health outcomes:</p>
<ul>
<li><p>Mortality rates from infectious diseases in 2014</p></li>
<li><p>Infant mortality rate in 2014</p></li>
</ul>
</li>
<li><p>Unit of analysis: state (we will discuss implications of this!)</p></li>
</ul>
<p>For more background, read <a class="reference external" href="https://www.healthypeople.gov/2020/topics-objectives/topic/social-determinants-of-health">Healthy People 2020‚Äôs description of social determinants of health</a>.</p>
</div>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">¬∂</a></h2>
<p>We‚Äôre going to get data from 3 sources.</p>
<div class="section" id="income-us-census">
<h3>Income ‚Äî US Census<a class="headerlink" href="#income-us-census" title="Permalink to this headline">¬∂</a></h3>
<p>We are going to get <em>income</em> data from the US Census Bureau.
See <a class="reference internal" href="../../resources/tutorials/UsingTheCensus/"><span class="doc std std-doc">Using the Census</span></a> for an introduction to working with this data.</p>
<p>The in-class exercise on September 30 will give you practice with census data.</p>
<div class="section" id="setting-up">
<h4>Setting Up<a class="headerlink" href="#setting-up" title="Permalink to this headline">¬∂</a></h4>
<p>Before using census data, you need to get an API key. <a class="reference external" href="https://api.census.gov/data/key_signup.html">Request one here</a>.</p>
<p>You will also need to install the Python package for the Census API, and a package of US state code data.  These are not available in the main Conda repository, so use Pip:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pip install census us
</pre></div>
</div>
</div>
<div class="section" id="data-layout">
<h4>Data Layout<a class="headerlink" href="#data-layout" title="Permalink to this headline">¬∂</a></h4>
<p>The census data comes in a variety of <em>files</em>. These files include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sf1</span></code> ‚Äî Summary File 1, containing complete count information on the <em>decennial</em> census.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">acs5</span></code> ‚Äî American Community Survey, a supplementary annual survey of a sample of the population carried out by the census bureau, 5-year estimates.</p></li>
</ul>
<p>We are going to be using ACS5.  It has thousands of variables.  The <a class="reference external" href="https://api.census.gov/data/2014/acs/acs5/variables.html">variable list</a> describes them, and the ones of interest are all reported as <strong>estimated population counts</strong>.  That means variable <code class="docutils literal notranslate"><span class="pre">B06009_003E</span></code> is an estimate, based on the sample, of the number of people in a geographic region whose highest educational attainment is a high school degree.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">B05010_*</span></code> variables describe population with respect to the poverty line.  <code class="docutils literal notranslate"><span class="pre">B05010_001E</span></code> is the estimated total number of family households, and <code class="docutils literal notranslate"><span class="pre">B05010_002E</span></code> is the estimated number under the poverty line.  These variables are described in more detail in the <a class="reference external" href="https://www.socialexplorer.com/data/ACS2014_5yr/metadata/?ds=ACS14_5yr&amp;table=B05010">Social Data Explorer</a>.</p>
<p>You can use these two variables to caculate the <em>poverty level</em> as defined above: the fraction of households under the poverty line.</p>
<div class="tip admonition">
<p class="admonition-title">Fetching Census Data</p>
<p>If you have a <code class="docutils literal notranslate"><span class="pre">Census</span></code> object defined in variable <code class="docutils literal notranslate"><span class="pre">c</span></code>, as we did in the Sep. 30 example, you can fetch these variables for all states with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">state_pop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">acs5</span><span class="o">.</span><span class="n">state</span><span class="p">((</span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;B05010_001E&#39;</span><span class="p">,</span> <span class="s1">&#39;B05010_002E&#39;</span><span class="p">),</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2014</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">state</span></code> column in the resulting table is the state‚Äôs FIPS code, as a string.</p>
<div class="tip admonition">
<p class="admonition-title">Social Explorer</p>
<p>The Social Explorer has a very good <a class="reference external" href="https://www.socialexplorer.com/data/ACS2014_5yr/metadata/?ds=ACS14_5yr">database of census fields</a>.
This database describes all the census sub-tables, and lets you browse them by group (e.g. B05010).</p>
<p>Within the page for a group, such as <a class="reference external" href="https://www.socialexplorer.com/data/ACS2014_5yr/metadata/?ds=ACS14_5yr&amp;table=B05010">B05010</a>, there
is a list of all the sub-variables, organized hierarchically so you can see how they relate to each other.
The variable names do need a bit of modification; when Social Explorer says <code class="docutils literal notranslate"><span class="pre">B05010001</span></code>, you need to request that from the census as <code class="docutils literal notranslate"><span class="pre">B05010_001E</span></code> (the Estimated value).
The census API puts an underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) between th evariable group code (<code class="docutils literal notranslate"><span class="pre">B05010</span></code>) and the specific sub-variable identifier (<code class="docutils literal notranslate"><span class="pre">001E</span></code>); Social Explorer does not include the underscore.</p>
<p>The explorer also includes excerpts from the full census technical documentation providing more detail about the different variables and their codings.</p>
</div>
</div>
</div>
<div class="section" id="infectious-deseases-ghdx">
<h3>Infectious Deseases ‚Äî GHDx<a class="headerlink" href="#infectious-deseases-ghdx" title="Permalink to this headline">¬∂</a></h3>
<p>We will obtain infectious disease mortality rates from the <a class="reference external" href="http://ghdx.healthdata.org/record/ihme-data/united-states-infectious-disease-mortality-rates-county-1980-2014">Global Health Data Exchange</a>.
These files contain county- and state-level mortality data from the U.S. from 1980 to 2014.
The files themselves are on the ‚ÄúFiles‚Äù tab; download ‚ÄúNational: All States and Counties (5-year Intervals)‚Äù.</p>
<p>Pandas provides a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html"><code class="docutils literal notranslate"><span class="pre">read_excel</span></code></a> function to read data tables from Excel files.
This file has 6 sheets, one for each of 6 different disease families.</p>
<div class="tip admonition">
<p class="admonition-title">Reading GHDx Data</p>
<p>You can read these data files with <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html#pandas.read_excel" title="(in pandas v1.4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_excel()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sheets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;IHME_USA_COUNTY_INFECT_DIS_MORT_1980_2014_NATIONAL_Y2018M03D27.XLSX&#39;</span><span class="p">,</span>
                        <span class="n">sheet_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">skipfooter</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting <code class="docutils literal notranslate"><span class="pre">sheets</span></code> variable is a <em>dictionary</em> (remember those?) mapping sheet names (disease families) to data frames.
The <code class="docutils literal notranslate"><span class="pre">sheet_name=None</span></code> option tells it to load all sheets, and <code class="docutils literal notranslate"><span class="pre">header=1</span></code> says to skip the first row and read the column headers from the second.
<code class="docutils literal notranslate"><span class="pre">skipfooter=2</span></code> tells it to skip the last two rows as well.  Look at the files to see why!</p>
<p>For this function to work, you will need the <code class="docutils literal notranslate"><span class="pre">openpyxl</span></code> module:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda install openpyxl
</pre></div>
</div>
<p>You won‚Äôt need to use openpyxl directly, but Pandas uses it to read Excel files.</p>
<p>Alternatively, you can open the data file in Excel or LibreOffice and export the parts you need to a CSV file.</p>
</div>
<p>This data frame has annoying column names, and also annoying fields: the field values include confidence intervals.</p>
<div class="tip admonition">
<p class="admonition-title">Extracting Column Data</p>
<p>The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace" title="(in pandas v1.4.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.Series.str.replace()</span></code></a> method, combined with a type conversion, lets us extract the actual estimate from the cell that includes the confidence intervals.
We can do this by replacing the parenthsized intervals with nothing.  Like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Mortality&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Mortality Rate, 2014*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*\(.+\)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;f8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This mortality data is recorded as ‚Äúdeaths per 100,000 people‚Äù.  The rates are <em>age-standardized</em>: look up age-standardized mortality rates to read about what this means.</p>
</div>
<div class="section" id="infant-mortality-cdc">
<h3>Infant Mortality ‚Äî CDC<a class="headerlink" href="#infant-mortality-cdc" title="Permalink to this headline">¬∂</a></h3>
<p>The Centers for Disease Control and Prevention provide a table of <a class="reference external" href="https://www.cdc.gov/nchs/pressroom/sosmap/infant_mortality_rates/infant_mortality.htm">infant mortality data by state</a>.
Click ‚ÄúDownload Data (CSV)‚Äù at the bottom of the page to download the file.</p>
<p>This file has multiple years; you will need to select the rows with the year you want.</p>
</div>
<div class="section" id="fips-codes">
<h3>FIPS Codes<a class="headerlink" href="#fips-codes" title="Permalink to this headline">¬∂</a></h3>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/FIPS_county_code">FIPS code</a> is a numeric code that identifies a U.S. state or county.
State codes are two digits; you can therefore extract the state-level data from an Infectious Disease table by selecting all rows where the FIPS column is less than 100 (the national-level <code class="docutils literal notranslate"><span class="pre">NaN</span></code> will also be excluded by such a filter).</p>
<p>Both the census and the infectious disease table use FIPS codes, so you can join or merge (subsets of) the two tables by their FIPS code.
The census will return FIPS data as a string, so you will need to convert it to a number (<code class="docutils literal notranslate"><span class="pre">.astype('i4')</span></code>) before joining.
It is fine to join an integer column with a floating-point column.</p>
<p>The infant mortality data does <em>not</em> use FIPS codes ‚Äî it uses state abbreviations.
To link FIPS codes to state abbreviations, you can use the <code class="docutils literal notranslate"><span class="pre">us</span></code> Python package (and create a data table with the appropriate linking identifiers), or download the ‚ÄúNational FIPS and GNIS Codes File‚Äù from the <a class="reference external" href="https://www.census.gov/library/reference/code-lists/ansi/ansi-codes-for-states.html">US Census Bureau</a>.
It is separated by vertical bars (<code class="docutils literal notranslate"><span class="pre">|</span></code>), so you can read it with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pd.read_table(&#39;state.txt&#39;, sep=&#39;|&#39;)
</pre></div>
</div>
<p>You may need to convert the data type of the FIPS code column.  Once you have this file, you can merge infant mortality with census data by:</p>
<ol class="simple">
<li><p>Merge infant mortality with the state codes file by state abbreviation to get FIPS codes.</p></li>
<li><p>Merge the resulting table with census data by FIPS code.</p></li>
</ol>
</div>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¬∂</a></h2>
<p>Submit a notebook using the data above to do the following (all for year 2014 data):</p>
<ol class="simple">
<li><p>(20%) Describe, both numerically and graphically, the distribution of state poverty rates.</p></li>
<li><p>(30%) Show the relationship of poverty rates to mortality rates of two different disease families ‚Äî Meningitis and Diarrheal deseases ‚Äî using appropriate plots.</p></li>
<li><p>(20%) Quantify the relationship between poverty and each of the 2 mortality rates in (2) by computing correlation coefficients with bootstrapped confidence intervals for each disease.</p></li>
<li><p>(20%) Repeat (2) and (3) for infant mortality.</p></li>
<li><p>(10%) Write 2‚Äì3 paragraphs about what you learn from these data.  Discuss also limitations that you see in the data and analysis!</p></li>
</ol>
<div class="note admonition">
<p class="admonition-title">Correlation and Causation</p>
<p>All this analysis can look at is whether the states with higher poverty rates also tend to have better or worse health outcomes.
We can draw no conclusions about <em>causality</em> between these variables.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <a class="reference internal" href="../../resources/tutorials/Correlation/"><span class="doc std std-doc">Correlation Notebook</span></a> shows how to bootstrap a confidence interval for a correlation.</p>
</div>
<div class="note admonition">
<p class="admonition-title">Structure</p>
<p>There are a couple of different ways you can think about organizing your data and questions:</p>
<ul class="simple">
<li><p>Load and merge all data sets in a ‚ÄúData‚Äù section, and then proceed with the analysis.</p></li>
<li><p>Load and merge data in analysis-specific subsections.</p></li>
</ul>
</div>
</div>
<div class="section" id="time-estimates">
<h2>Time Estimates<a class="headerlink" href="#time-estimates" title="Permalink to this headline">¬∂</a></h2>
<p>I‚Äôm going to try something new this time, and please let me know if it‚Äôs helpful or not.
I‚Äôm going to provide a little info on how long I expect each piece might take, given what we‚Äôve done in the class so far.
These numbers are aimed to target about the 80th %ile of how long it would take the students in this class, but I admit it‚Äôs just my best guess.
My hope is that it helps you calibrate your work and expectations.
I would love feedback on this!  Should I keep doing it?</p>
<ul class="simple">
<li><p>Fetching census data &amp; describing poverty rates: 1.5 hours (we‚Äôve done a lot of data descriptions by now)</p></li>
<li><p>Reading GHDx data and linking it to census data: 1 hour</p></li>
<li><p>Showing infectious disease and mortality: 1 hour</p></li>
<li><p>Computing correlations and bootstrapped CIs for infectious diseases: 2 hours</p></li>
<li><p>Reading and linking infant mortality data: 1.5 hours</p></li>
<li><p>Presenting infant mortality correlations: 1 hour (you should be able to reuse ideas &amp; code from the infectious diseases)</p></li>
<li><p>Cleaning up, presenting, and writing your conclusions: 2 hours</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./assignments\A3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../A2/" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Assignment 2</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../A4/" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Assignment 4</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Michael D. Ekstrand<br/>
        
            &copy; <a href="../../copyright/">Copyright</a> 2021.<br/>
          <div class="extra_footer">
            <script data-goatcounter="https://cs533.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>